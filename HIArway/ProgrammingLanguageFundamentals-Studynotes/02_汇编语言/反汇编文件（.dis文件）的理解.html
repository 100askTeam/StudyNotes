<html>
<head>
  <title>反汇编文件（.dis文件）的理解</title>
  <basefont face="微软雅黑" size="2" />
  <meta http-equiv="Content-Type" content="text/html;charset=utf-8" />
  <meta name="exporter-version" content="YXBJ Windows/605138 (zh-CN, DDL); Windows/10.0.0 (Win64); EDAMVersion=V2;"/>
  <style>
    body, td {
      font-family: 微软雅黑;
      font-size: 12pt;
    }
  </style>
</head>
<body>
<a name="1037"/>
<h1>反汇编文件（.dis文件）的理解</h1>
<div>
<table bgcolor="#D4DDE5" border="0">
<tr><td><b>创建时间：</b></td><td><i>2021/12/29 19:49</i></td></tr>
<tr><td><b>更新时间：</b></td><td><i>2021/12/29 19:50</i></td></tr>
<tr><td><b>标签：</b></td><td><i>bingo, 汇编, 细节知识</i></td></tr>
</table>
</div>
<br/>

<div>
<span><div><br/></div><div style="font-size: 16px; min-width: 100%;"><div style="background-color: transparent; font-size: inherit; vertical-align: baseline;"><div style="background-color: transparent; vertical-align: baseline; font-size: 16px; text-align: left;"><div style="margin: 0px; padding: 0px; border: 0px; font-size: inherit; vertical-align: baseline;"><div style="margin: 0px auto; padding: 0px 2em; border: 0px; font-size: inherit; vertical-align: baseline; width: 36em; z-index: 200; position: relative;"><div style="margin: 0px 25px 0px -25px; padding: 0px; border: 0px; font-size: inherit; vertical-align: baseline; position: relative;"><div style="margin: 0px; padding: 0px 0px 9em; border: 0px; font-size: inherit; vertical-align: baseline; position: relative;"><div style="margin: 0px 0px 1.5em; padding: 0px; border: 0px; font-size: inherit; vertical-align: baseline;"><div style="margin: 0px; padding: 0px; border: 0px; font-size: inherit; vertical-align: baseline; position: relative;"><div style="margin: 0px; padding: 0px; border: 0px; font-size: inherit; vertical-align: baseline;"><div style="margin: 0px; padding: 0px; border: 0px; font-size: inherit; vertical-align: baseline;"><h1 style="text-align: left; border: 0px; vertical-align: baseline; font-size: 35px; padding: 0px; margin: 0px;"><span style="font-size: 35px; color: rgb(31, 9, 9); font-family: &quot;PT Serif&quot;; font-weight: normal; line-height: 35px;">反汇编文件（.dis文件）的理解</span></h1><div style="padding: 1.5em 0px; border: 0px; font-size: inherit; vertical-align: baseline; position: relative; height: 1em; text-align: center; margin: 0px;"><div style="padding:0px;border:0px;font:inherit;vertical-align:baseline;background:-webkit-linear-gradient(0deg, rgb(243, 242, 238) 1%, rgb(31, 9, 9) 50%, rgb(243, 242, 238) 99%);position:absolute;left:-4em;top:50%;z-index:10;width:100%;padding-left:4em;padding-right:4em;height:0.1em;opacity:0.5;margin:0px;margin-bottom:0px;"><br/></div></div></div><h3 style="text-align: left; margin: 35px 0px 15px; padding: 0px; border: 0px; vertical-align: baseline; font-size: 30px;"><span style="font-size: 30px; color: rgb(31, 9, 9); font-family: &quot;PT Serif&quot;; font-weight: normal; line-height: 35px;">理解什么是：标号地址、标号名字、指令地址、指令机器码、指令机器码反汇编到的指令</span></h3><div style="margin: 0px 0px 1.5em; padding: 0px; border: 0px; font-size: inherit; vertical-align: baseline;"><span style="font-size: 16px; color: rgb(31, 9, 9); font-family: &quot;PT Serif&quot;; line-height: 1.5em;">下面以一段dis文件中代码来简单理解一下反汇编的读法（为了方便，部分说明已经卸载代码块双斜杠后面）</span></div><div style="margin: 0px 0px 1.5em; padding: 0px; border: 0px; font-size: inherit; vertical-align: baseline;"><span style="font-size: 16px; color: rgb(31, 9, 9); font-family: &quot;PT Serif&quot;; line-height: 1.5em;">指令地址                                           :号前面的数值</span></div><div style="margin: 0px 0px 1.5em; padding: 0px; border: 0px; font-size: inherit; vertical-align: baseline;"><span style="font-size: 16px; color: rgb(31, 9, 9); font-family: &quot;PT Serif&quot;; line-height: 1.5em;">指令机器码                                        e59f0050这一列</span></div><div style="margin: 0px 0px 1.5em; padding: 0px; border: 0px; font-size: inherit; vertical-align: baseline;"><span style="font-size: 16px; color: rgb(31, 9, 9); font-family: &quot;PT Serif&quot;; line-height: 1.5em;">指令机器码反汇编到的指令            ldr    r0, [pc, #80]    ; 58 &lt;delay_loop+0x10&gt;  </span></div><div style="margin: 0px 0px 1.5em; padding: 0px; border: 0px; font-size: inherit; vertical-align: baseline;"><span style="font-size: 16px; color: rgb(31, 9, 9); font-family: &quot;PT Serif&quot;; line-height: 1.5em;">【补充一小点：CPU工作原理】CPU通过访问指令地址，来访问指令机器码的</span></div><hr style="border-color:rgb(31, 9, 9);border-top:none;border-right:none;border-bottom:1px solid;border-left:none;"/><h3 style="text-align: left; margin: 35px 0px 15px; padding: 0px; border: 0px; vertical-align: baseline; font-size: 30px;"><span style="font-size: 30px; color: rgb(31, 9, 9); font-family: &quot;PT Serif&quot;; font-weight: normal; line-height: 35px;">解读汇编与反汇编的关系：</span></h3><div style="margin: 0px 0px 1.5em; padding: 0px; border: 0px; font-size: inherit; vertical-align: baseline;"><span style="font-size: 16px; color: rgb(31, 9, 9); font-family: &quot;PT Serif&quot;; line-height: 1.5em;">在反汇编中的这一句ldr    r0, [pc, #80] 其实就是汇编语言中的ldr r0, =0x11111111</span></div><div style="margin: 0px 0px 1.5em; padding: 0px; border: 0px; font-size: inherit; vertical-align: baseline;"><span style="font-size: 16px; color: rgb(31, 9, 9); font-family: &quot;PT Serif&quot;; line-height: 1.5em;">解读    0:    e59f0050     ldr    r0, [pc, #80]    ; 58 &lt;delay_loop+0x10&gt;</span></div><p style="margin:0px;padding:0px;border:0px;font:inherit;vertical-align:baseline;margin-bottom:1.5em;"></p><div style="margin: 1em 0px; padding: 0px; border: 0px; font-size: inherit; vertical-align: baseline; text-align: center;"><span style="font-size: 16px; color: rgb(31, 9, 9); font-family: &quot;PT Serif&quot;; line-height: 1.5em;"><img src="反汇编文件（.dis文件）的理解_files/70" type="image/png" data-filename="70" height="266" style="margin:0px;padding:0px;border:0px;font:inherit;vertical-align:baseline;display:block;max-width:100%;" width="576"/></span></div><p style="margin:0px;padding:0px;border:0px;font:inherit;vertical-align:baseline;margin-bottom:1.5em;"></p><div style="margin: 0px 0px 1.5em; padding: 0px; border: 0px; font-size: inherit; vertical-align: baseline;"><span style="font-size: 16px; color: rgb(31, 9, 9); font-family: &quot;PT Serif&quot;; line-height: 1.5em;">首先上图（ARM中有三级流水线），PC指向正被取指的指令，而非正在执行的指令（也就是说PC的地址值是正在执行代码的地址值加上8）。故PC的地址值应该是此时的指令地址值0+8，而[pc, #80]表示0+8+80=88，但是这是十进制的，十进制的88转换为十六进制为58，也就是我们后面可以看到的58。查看反汇编中的指令地址为0x58所对应的指令机器码如下图，可以看到0x58所对应指令机器码是11111111。到此为止可以看出反汇编文件中的 0:    e59f0050     ldr    r0, [pc, #80]    ; 58 &lt;delay_loop+0x10&gt;与汇编文件中的ldr r0, =0x11111111的关系了吧？</span></div><p style="margin:0px;padding:0px;border:0px;font:inherit;vertical-align:baseline;margin-bottom:1.5em;"></p><div style="margin: 1em 0px; padding: 0px; border: 0px; font-size: inherit; vertical-align: baseline; text-align: center;"><span style="font-size: 16px; color: rgb(31, 9, 9); font-family: &quot;PT Serif&quot;; line-height: 1.5em;"><img src="反汇编文件（.dis文件）的理解_files/70 [1]" type="image/png" data-filename="70" height="75" style="margin:0px;padding:0px;border:0px;font:inherit;vertical-align:baseline;display:block;max-width:100%;" width="490"/></span></div><p style="margin:0px;padding:0px;border:0px;font:inherit;vertical-align:baseline;margin-bottom:1.5em;"></p><h3 style="text-align: left; margin: 35px 0px 15px; padding: 0px; border: 0px; vertical-align: baseline; font-size: 30px;"><span style="font-size: 30px; color: rgb(31, 9, 9); font-family: &quot;PT Serif&quot;; font-weight: normal; line-height: 35px;">还有一种更加直接的方法：</span></h3><div style="margin: 0px 0px 1.5em; padding: 0px; border: 0px; font-size: inherit; vertical-align: baseline;"><span style="font-size: 16px; color: rgb(31, 9, 9); font-family: &quot;PT Serif&quot;; line-height: 1.5em;">直接方法解读  0:    e59f0050     ldr    r0, [pc, #80]    ; 58 &lt;delay_loop+0x10&gt;</span></div><div style="margin: 0px; padding: 0px; border: 0px; font-size: inherit; vertical-align: baseline;"><span style="font-size: 16px; color: rgb(31, 9, 9); font-family: &quot;PT Serif&quot;; line-height: 1.5em;">这句代码后面的注释58 &lt;delay_loop+0x10&gt;，注释中的58，这其实就是 执行ldr    r0, [pc, #80]后的指令地址值</span></div></div></div></div><div style="margin: 0px 0px 1.5em; padding: 0px; border: 0px; font-size: inherit; vertical-align: baseline; position: absolute; top: -1000px; left: -1000px;"><span style="font-size: 16px; color: rgb(31, 9, 9); font-family: &quot;PT Serif&quot;; line-height: 1.5em;">Measure</span></div><div style="margin: 0px; padding: 0px; border: 0px; font-size: inherit; vertical-align: baseline; position: absolute; top: -1000px; left: -1000px;"><span style="font-size: 16px; color: rgb(31, 9, 9); font-family: &quot;PT Serif&quot;; line-height: 1;">Measure</span></div></div></div></div></div></div></div></div><div><br/></div></span>
</div></body></html> 